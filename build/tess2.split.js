
var createTess2Wasm = (function() {
  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;
  
  return (
function(createTess2Wasm) {
  createTess2Wasm = createTess2Wasm || {};


var b;b||(b=typeof createTess2Wasm !== 'undefined' ? createTess2Wasm : {});var p,q;b.ready=new Promise(function(a,c){p=a;q=c});var r=b,v,w,x,y,A,B,C,aa,ba;function D(a,c,d){if(!c||0>c)throw"Size should be a greater 0";if(!a)throw"Invalid pointer!";d=d||Uint8Array;c=new d(r.HEAP8.buffer,a,c);c.F=a;c.I=function(){r._free(a)};return c}
var ca=r.Tess=function(){if(!v){var a=r.cwrap;v=a("tessNewTess","number",["number"]);w=a("tessDeleteTess",null,["number"]);x=a("tessAddContour","number",["number","number","number","number","number"]);y=a("tessTesselate","number","number number number number number number".split(" "));A=a("tessGetVertexCount","number",["number"]);B=a("tessGetVertices","number",["number"]);C=a("tessGetElementCount","number",["number"]);aa=a("tessGetElements","number",["number"]);ba=a("tessGetVertexIndices","number",
["number"])}this.F=v(0);this.G=[];if(!this.F)throw"Unknown error, tesselator wasn't init!";};
Object.assign(ca.prototype,{dispose:function(){this.F&&(w(this.F),this.G.forEach(function(a){a.I&&a.I()}),this.G=[],this.F=0)},addContours:function(a,c){if(!this.F)throw"Tessealtor wasn't be inited!";c=c||2;var d=this.G=[];"number"===typeof a[0]&&(a=[a]);for(var e=0;e<a.length;e++){var f=a[e];var g=f.length;var n=Float32Array,h=r._malloc(g*n.BYTES_PER_ELEMENT);if(!h)throw"Can't allocate a "+g;g=D(h,g,n);g.set(f,0);d.push(g);x(this.F,c,g.F,c*Float32Array.BYTES_PER_ELEMENT,f.length/c)}},tesselate:function(a){if(0===
this.G.length)throw"Contours data is required!";a=Object.assign({windingRule:0,elementType:0,polySize:3,vertexSize:2,fillVertexIndices:!1},a||{});if(!y(this.F,a.windingRule|0||0,a.elementType|0||0,a.polySize|0||3,a.vertexSize|0||2,0))return null;var c=A(this.F),d=C(this.F),e={elementCount:d,vertexCount:c};if(!c||!d)return null;e.vertices=D(B(this.F),c*a.vertexSize,Float32Array);e.elements=D(aa(this.F),d*a.polySize,Uint32Array);a.fillVertexIndices&&(e.vertexIndices=D(ba(this.F),c,Uint32Array));return e}});
var E={},F;for(F in b)b.hasOwnProperty(F)&&(E[F]=b[F]);var G="";"undefined"!==typeof document&&document.currentScript&&(G=document.currentScript.src);_scriptDir&&(G=_scriptDir);0!==G.indexOf("blob:")?G=G.substr(0,G.lastIndexOf("/")+1):G="";var H=b.printErr||console.warn.bind(console);for(F in E)E.hasOwnProperty(F)&&(b[F]=E[F]);E=null;var da=0,I;b.wasmBinary&&(I=b.wasmBinary);var noExitRuntime;b.noExitRuntime&&(noExitRuntime=b.noExitRuntime);"object"!==typeof WebAssembly&&K("no native wasm support detected");
var L,ea=!1;function fa(a){var c=b["_"+a];c||K("Assertion failed: Cannot call unknown function "+(a+", make sure it is exported"));return c}
function ia(a,c,d,e){var f={string:function(k){var z=0;if(null!==k&&void 0!==k&&0!==k){var t=(k.length<<2)+1;z=M(t);var m=z,u=N;if(0<t){t=m+t-1;for(var J=0;J<k.length;++J){var l=k.charCodeAt(J);if(55296<=l&&57343>=l){var ua=k.charCodeAt(++J);l=65536+((l&1023)<<10)|ua&1023}if(127>=l){if(m>=t)break;u[m++]=l}else{if(2047>=l){if(m+1>=t)break;u[m++]=192|l>>6}else{if(65535>=l){if(m+2>=t)break;u[m++]=224|l>>12}else{if(m+3>=t)break;u[m++]=240|l>>18;u[m++]=128|l>>12&63}u[m++]=128|l>>6&63}u[m++]=128|l&63}}u[m]=
0}}return z},array:function(k){var z=M(k.length);ja.set(k,z);return z}},g=fa(a),n=[];a=0;if(e)for(var h=0;h<e.length;h++){var ha=f[d[h]];ha?(0===a&&(a=O()),n[h]=ha(e[h])):n[h]=e[h]}d=g.apply(null,n);d=function(k){return"string"===c?P(k):"boolean"===c?!!k:k}(d);0!==a&&Q(a);return d}var ka="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;
function P(a){if(a){for(var c=N,d=a+NaN,e=a;c[e]&&!(e>=d);)++e;if(16<e-a&&c.subarray&&ka)a=ka.decode(c.subarray(a,e));else{for(d="";a<e;){var f=c[a++];if(f&128){var g=c[a++]&63;if(192==(f&224))d+=String.fromCharCode((f&31)<<6|g);else{var n=c[a++]&63;f=224==(f&240)?(f&15)<<12|g<<6|n:(f&7)<<18|g<<12|n<<6|c[a++]&63;65536>f?d+=String.fromCharCode(f):(f-=65536,d+=String.fromCharCode(55296|f>>10,56320|f&1023))}}else d+=String.fromCharCode(f)}a=d}}else a="";return a}var la,ja,N;
function ma(){var a=L.buffer;la=a;b.HEAP8=ja=new Int8Array(a);b.HEAP16=new Int16Array(a);b.HEAP32=new Int32Array(a);b.HEAPU8=N=new Uint8Array(a);b.HEAPU16=new Uint16Array(a);b.HEAPU32=new Uint32Array(a);b.HEAPF32=new Float32Array(a);b.HEAPF64=new Float64Array(a)}var R,na=[],oa=[],pa=[],qa=[];function ra(){var a=b.preRun.shift();na.unshift(a)}var S=0,T=null,U=null;b.preloadedImages={};b.preloadedAudios={};
function K(a){if(b.onAbort)b.onAbort(a);H(a);ea=!0;a=new WebAssembly.RuntimeError("abort("+a+"). Build with -s ASSERTIONS=1 for more info.");q(a);throw a;}function sa(){var a=V;return String.prototype.startsWith?a.startsWith("data:application/octet-stream;base64,"):0===a.indexOf("data:application/octet-stream;base64,")}var V="tess2.split.wasm";if(!sa()){var ta=V;V=b.locateFile?b.locateFile(ta,G):G+ta}
function va(){try{if(I)return new Uint8Array(I);throw"both async and sync fetching of the wasm failed";}catch(a){K(a)}}function wa(){return I||"function"!==typeof fetch?Promise.resolve().then(va):fetch(V,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+V+"'";return a.arrayBuffer()}).catch(function(){return va()})}
function W(a){for(;0<a.length;){var c=a.shift();if("function"==typeof c)c(b);else{var d=c.J;"number"===typeof d?void 0===c.H?R.get(d)():R.get(d)(c.H):d(void 0===c.H?null:c.H)}}}oa.push({J:function(){xa()}});
var Ea={a:function(a,c,d,e){K("Assertion failed: "+P(a)+", at: "+[c?P(c):"unknown filename",d,e?P(e):"unknown function"])},d:function(a,c){X(a,c||1);throw"longjmp";},k:function(a,c,d){N.copyWithin(a,c,c+d)},l:function(a){a>>>=0;var c=N.length;if(2147483648<a)return!1;for(var d=1;4>=d;d*=2){var e=c*(1+.2/d);e=Math.min(e,a+100663296);e=Math.max(16777216,a,e);0<e%65536&&(e+=65536-e%65536);a:{try{L.grow(Math.min(2147483648,e)-la.byteLength+65535>>>16);ma();var f=1;break a}catch(g){}f=void 0}if(f)return!0}return!1},
c:function(){return da|0},j:ya,g:za,f:Aa,e:Ba,h:Ca,i:Da,b:function(a){da=a|0}};
(function(){function a(f){b.asm=f.exports;L=b.asm.m;ma();R=b.asm.n;S--;b.monitorRunDependencies&&b.monitorRunDependencies(S);0==S&&(null!==T&&(clearInterval(T),T=null),U&&(f=U,U=null,f()))}function c(f){a(f.instance)}function d(f){return wa().then(function(g){return WebAssembly.instantiate(g,e)}).then(f,function(g){H("failed to asynchronously prepare wasm: "+g);K(g)})}var e={a:Ea};S++;b.monitorRunDependencies&&b.monitorRunDependencies(S);if(b.instantiateWasm)try{return b.instantiateWasm(e,a)}catch(f){return H("Module.instantiateWasm callback failed with error: "+
f),!1}(function(){return I||"function"!==typeof WebAssembly.instantiateStreaming||sa()||"function"!==typeof fetch?d(c):fetch(V,{credentials:"same-origin"}).then(function(f){return WebAssembly.instantiateStreaming(f,e).then(c,function(g){H("wasm streaming compile failed: "+g);H("falling back to ArrayBuffer instantiation");return d(c)})})})().catch(q);return{}})();var xa=b.___wasm_call_ctors=function(){return(xa=b.___wasm_call_ctors=b.asm.o).apply(null,arguments)};
b._malloc=function(){return(b._malloc=b.asm.p).apply(null,arguments)};b._free=function(){return(b._free=b.asm.q).apply(null,arguments)};b._tessNewTess=function(){return(b._tessNewTess=b.asm.r).apply(null,arguments)};b._tessDeleteTess=function(){return(b._tessDeleteTess=b.asm.s).apply(null,arguments)};b._tessAddContour=function(){return(b._tessAddContour=b.asm.t).apply(null,arguments)};b._tessTesselate=function(){return(b._tessTesselate=b.asm.u).apply(null,arguments)};
b._tessGetVertexCount=function(){return(b._tessGetVertexCount=b.asm.v).apply(null,arguments)};b._tessGetVertices=function(){return(b._tessGetVertices=b.asm.w).apply(null,arguments)};b._tessGetVertexIndices=function(){return(b._tessGetVertexIndices=b.asm.x).apply(null,arguments)};b._tessGetElementCount=function(){return(b._tessGetElementCount=b.asm.y).apply(null,arguments)};b._tessGetElements=function(){return(b._tessGetElements=b.asm.z).apply(null,arguments)};
var O=b.stackSave=function(){return(O=b.stackSave=b.asm.A).apply(null,arguments)},Q=b.stackRestore=function(){return(Q=b.stackRestore=b.asm.B).apply(null,arguments)},M=b.stackAlloc=function(){return(M=b.stackAlloc=b.asm.C).apply(null,arguments)},X=b._setThrew=function(){return(X=b._setThrew=b.asm.D).apply(null,arguments)};function Ba(a,c,d){var e=O();try{R.get(a)(c,d)}catch(f){Q(e);if(f!==f+0&&"longjmp"!==f)throw f;X(1,0)}}
function Aa(a,c){var d=O();try{R.get(a)(c)}catch(e){Q(d);if(e!==e+0&&"longjmp"!==e)throw e;X(1,0)}}function ya(a,c){var d=O();try{return R.get(a)(c)}catch(e){Q(d);if(e!==e+0&&"longjmp"!==e)throw e;X(1,0)}}function za(a,c,d){var e=O();try{return R.get(a)(c,d)}catch(f){Q(e);if(f!==f+0&&"longjmp"!==f)throw f;X(1,0)}}function Da(a,c,d,e,f,g){var n=O();try{R.get(a)(c,d,e,f,g)}catch(h){Q(n);if(h!==h+0&&"longjmp"!==h)throw h;X(1,0)}}
function Ca(a,c,d,e){var f=O();try{R.get(a)(c,d,e)}catch(g){Q(f);if(g!==g+0&&"longjmp"!==g)throw g;X(1,0)}}b.cwrap=function(a,c,d,e){d=d||[];var f=d.every(function(g){return"number"===g});return"string"!==c&&f&&!e?fa(a):function(){return ia(a,c,d,arguments)}};var Y;U=function Fa(){Y||Z();Y||(U=Fa)};
function Z(){function a(){if(!Y&&(Y=!0,b.calledRun=!0,!ea)){W(oa);W(pa);p(b);if(b.onRuntimeInitialized)b.onRuntimeInitialized();if(b.postRun)for("function"==typeof b.postRun&&(b.postRun=[b.postRun]);b.postRun.length;){var c=b.postRun.shift();qa.unshift(c)}W(qa)}}if(!(0<S)){if(b.preRun)for("function"==typeof b.preRun&&(b.preRun=[b.preRun]);b.preRun.length;)ra();W(na);0<S||(b.setStatus?(b.setStatus("Running..."),setTimeout(function(){setTimeout(function(){b.setStatus("")},1);a()},1)):a())}}b.run=Z;
if(b.preInit)for("function"==typeof b.preInit&&(b.preInit=[b.preInit]);0<b.preInit.length;)b.preInit.pop()();noExitRuntime=!0;Z();


  return createTess2Wasm.ready
}
);
})();
if (typeof exports === 'object' && typeof module === 'object')
  module.exports = createTess2Wasm;
else if (typeof define === 'function' && define['amd'])
  define([], function() { return createTess2Wasm; });
else if (typeof exports === 'object')
  exports["createTess2Wasm"] = createTess2Wasm;
